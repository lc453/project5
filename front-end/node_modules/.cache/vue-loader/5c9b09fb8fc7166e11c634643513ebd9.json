{"remainingRequest":"/home/luke/260/project5/front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/luke/260/project5/front-end/src/views/Edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/luke/260/project5/front-end/src/views/Edit.vue","mtime":1618969726852},{"path":"/home/luke/260/project5/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1618932741132},{"path":"/home/luke/260/project5/front-end/node_modules/babel-loader/lib/index.js","mtime":1618932741112},{"path":"/home/luke/260/project5/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1618932741132},{"path":"/home/luke/260/project5/front-end/node_modules/vue-loader/lib/index.js","mtime":1618932741940}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBMb2dpbiBmcm9tICdAL2NvbXBvbmVudHMvTG9naW4udnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBZG1pbicsCiAgY29tcG9uZW50czogewogICAgTG9naW4sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmFtZTogIiIsCiAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgcmFjZTogIiIsCiAgICAgIHN0cmVuZ3RoOiAwLAogICAgICBhZ2lsaXR5OiAwLAogICAgICBkdXJhYmlsaXR5OiAwLAogICAgICBpbnRlbGxpZ2VuY2U6IDAsCiAgICAgIGNvc3Q6IDAsCiAgICAgIGZpbGU6IG51bGwsCiAgICAgIGFkZEFkdmVudHVyZXI6IG51bGwsCiAgICAgIGFkdmVudHVyZXJzOiBbXSwKICAgICAgZmluZE5hbWU6ICIiLAogICAgICBmaW5kQWR2ZW50dXJlcjogbnVsbCwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzdWdnZXN0aW9ucygpIHsKICAgICAgbGV0IGFkdmVudHVyZXJzID0gdGhpcy5hZHZlbnR1cmVycy5maWx0ZXIoYWR2ZW50dXJlciA9PiBhZHZlbnR1cmVyLm5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHRoaXMuZmluZE5hbWUudG9Mb3dlckNhc2UoKSkpOwogICAgICByZXR1cm4gYWR2ZW50dXJlcnMuc29ydCgoYSwgYikgPT4gYS5uYW1lID4gYi5uYW1lKTsKICAgIH0sCiAgICB1c2VyKCkgewogICAgICByZXR1cm4gdGhpcy4kcm9vdC4kZGF0YS51c2VyOwogICAgfQogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0QWR2ZW50dXJlcnMoKTsKICAgIHRyeSB7CiAgICAgIGxldCByZXNwb25zZTIgPSBhd2FpdCBheGlvcy5nZXQoJy9hcGkvdXNlcnMnKTsKICAgICAgdGhpcy4kcm9vdC4kZGF0YS51c2VyID0gcmVzcG9uc2UyLmRhdGEudXNlcjsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIHRoaXMuJHJvb3QuJGRhdGEudXNlciA9IG51bGw7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBmaWxlQ2hhbmdlZChldmVudCkgewogICAgICB0aGlzLmZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF0KICAgIH0sCiAgICBhc3luYyB1cGxvYWQoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgbGV0IHIgPSBhd2FpdCBheGlvcy5wb3N0KCcvYXBpL2FkdmVudHVyZXJzJywgewogICAgICAgICAgbmFtZTogdGhpcy5uYW1lLAogICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sCiAgICAgICAgICByYWNlOiB0aGlzLnJhY2UsCiAgICAgICAgICBzdHJlbmd0aDogdGhpcy5zdHJlbmd0aCwKICAgICAgICAgIGFnaWxpdHk6IHRoaXMuYWdpbGl0eSwKICAgICAgICAgIGR1cmFiaWxpdHk6IHRoaXMuZHVyYWJpbGl0eSwKICAgICAgICAgIGludGVsbGlnZW5jZTogdGhpcy5pbnRlbGxpZ2VuY2UsCiAgICAgICAgICBjb3N0OiB0aGlzLmNvc3QKICAgICAgICB9KTsKICAgICAgICB0aGlzLmFkZEFkdmVudHVyZXIgPSByLmRhdGE7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgZ2V0QWR2ZW50dXJlcnMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCIvYXBpL2FkdmVudHVyZXJzIik7CiAgICAgICAgdGhpcy5hZHZlbnR1cmVycyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0QWR2ZW50dXJlcihhZHZlbnR1cmVyKSB7CiAgICAgIHRoaXMuZmluZE5hbWUgPSAiIjsKICAgICAgdGhpcy5maW5kQWR2ZW50dXJlciA9IGFkdmVudHVyZXI7CiAgICB9LAogICAgYXN5bmMgZGVsZXRlQWR2ZW50dXJlcihhZHZlbnR1cmVyKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgYXhpb3MuZGVsZXRlKCIvYXBpL2FkdmVudHVyZXJzLyIgKyBhZHZlbnR1cmVyLmlkKTsKICAgICAgICB0aGlzLmZpbmRBZHZlbnR1cmVyID0gbnVsbDsKICAgICAgICB0aGlzLmdldEFkdmVudHVyZXJzKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICAgIHRoaXMuJHJvb3QuJGRhdGEucGFydHkuc3BsaWNlKHRoaXMuJHJvb3QuJGRhdGEucGFydHkuaW5kZXhPZihhZHZlbnR1cmVyLmlkKSwxKTsKICAgIH0sCiAgICBhc3luYyBlZGl0QWR2ZW50dXJlcihhZHZlbnR1cmVyKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgYXhpb3MucHV0KCIvYXBpL2FkdmVudHVyZXJzLyIgKyBhZHZlbnR1cmVyLmlkLCB7CiAgICAgICAgICBuYW1lOiB0aGlzLmZpbmRBZHZlbnR1cmVyLm5hbWUsCiAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5maW5kQWR2ZW50dXJlci5kZXNjcmlwdGlvbiwKICAgICAgICAgIHJhY2U6IHRoaXMuZmluZEFkdmVudHVyZXIucmFjZSwKICAgICAgICAgIHN0cmVuZ3RoOiB0aGlzLmZpbmRBZHZlbnR1cmVyLnN0cmVuZ3RoLAogICAgICAgICAgYWdpbGl0eTogdGhpcy5maW5kQWR2ZW50dXJlci5hZ2lsaXR5LAogICAgICAgICAgZHVyYWJpbGl0eTogdGhpcy5maW5kQWR2ZW50dXJlci5kdXJhYmlsaXR5LAogICAgICAgICAgaW50ZWxsaWdlbmNlOiB0aGlzLmZpbmRBZHZlbnR1cmVyLmludGVsbGlnZW5jZSwKICAgICAgICAgIGNvc3Q6IHRoaXMuZmluZEFkdmVudHVyZXIuY29zdAogICAgICAgIH0pOwogICAgICAgIHRoaXMuZmluZEFkdmVudHVyZXIgPSBudWxsOwogICAgICAgIHRoaXMuZ2V0QWR2ZW50dXJlcnMoKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Edit.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div class=\"admin\">\n  <div v-if=\"user\">\n    <h1>Edit or Delete an  Adventurer:</h1>\n    <div class=\"norm\">\n      <input v-model=\"findName\" placeholder=\"Search\">\n      <div class=\"suggestions\" v-if=\"suggestions.length > 0\">\n        <div class=\"suggestion\" v-for=\"s in suggestions\" :key=\"s.id\" @click=\"selectAdventurer(s)\">{{s.name}}\n        </div>\n      </div>\n    </div>\n    <div class=\"form\">\n      <div class=\"upload\" v-if=\"findAdventurer\">\n        <br>\n        <label>Name:</label>\n        <input v-model=\"findAdventurer.name\">\n        <p></p>\n        <label>Race:</label><br>\n        <select v-model=\"findAdventurer.race\" name=\"race\" id=\"race\">\n          <option value=\"Elf\">Elf</option>\n          <option value=\"Dwarf\">Dwarf</option>\n          <option value=\"Orc\">Orc</option>\n          <option value=\"Human\">Human</option>\n          <option value=\"Monster\">Monster</option>\n          <option value=\"Unknown\">Unknown</option>\n        </select>\n        <p></p>\n        <div class=\"stats\">\n          <div class=\"box\">\n            <label>Strength:</label>\n            <select v-model=\"findAdventurer.strength\" name=\"strength\" id=\"strength\">\n              <option value=1>1</option><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option><option value=6>6</option>\n              <option value=7>7</option><option value=8>8</option><option value=9>9</option><option value=10>10</option><option value=11>11</option><option value=12>12</option>\n            </select>\n          </div>\n          <div class=\"box\">\n            <label>Agility:</label>\n            <select v-model=\"findAdventurer.agility\" name=\"agility\" id=\"agility\">\n              <option value=1>1</option><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option><option value=6>6</option>\n              <option value=7>7</option><option value=8>8</option><option value=9>9</option><option value=10>10</option><option value=11>11</option><option value=12>12</option>\n            </select>\n          </div>\n          <div class=\"box\">\n            <label>Durability:</label>\n            <select v-model=\"findAdventurer.durability\" name=\"durability\" id=\"durability\">\n              <option value=1>1</option><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option><option value=6>6</option>\n              <option value=7>7</option><option value=8>8</option><option value=9>9</option><option value=10>10</option><option value=11>11</option><option value=12>12</option>\n            </select>\n          </div>\n          <div class=\"box\">\n            <label>Intelligence:</label>\n            <select v-model=\"findAdventurer.intelligence\" name=\"intelligence\" id=\"intelligence\">\n              <option value=1>1</option><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option><option value=6>6</option>\n              <option value=7>7</option><option value=8>8</option><option value=9>9</option><option value=10>10</option><option value=11>11</option><option value=12>12</option>\n            </select>\n          </div>\n        </div>\n        <p></p>\n        <label>Description/Backstory:</label><br>\n        <textarea v-model=\"findAdventurer.description\" placeholder=\"Add Adventurer Description\" rows=\"8\" cols=\"80\"></textarea>\n        <p></p>\n        <label>Cost of services: </label>\n        <input v-model=\"findAdventurer.cost\" type=\"number\">\n        <label> gold</label>\n        <p></p>\n      </div>\n      <div class=\"actions\" v-if=\"findAdventurer\">\n        <button @click=\"deleteAdventurer(findAdventurer)\">Delete</button>\n        <button @click=\"editAdventurer(findAdventurer)\">Edit</button>\n\n      </div>\n    </div>\n  </div>\n  <Login v-else />\n</div>\n</template>\n\n<script>\n  import axios from 'axios';\n  import Login from '@/components/Login.vue';\n  export default {\n    name: 'Admin',\n    components: {\n      Login,\n    },\n    data() {\n      return {\n        name: \"\",\n        description: \"\",\n        race: \"\",\n        strength: 0,\n        agility: 0,\n        durability: 0,\n        intelligence: 0,\n        cost: 0,\n        file: null,\n        addAdventurer: null,\n        adventurers: [],\n        findName: \"\",\n        findAdventurer: null,\n      }\n    },\n    computed: {\n      suggestions() {\n        let adventurers = this.adventurers.filter(adventurer => adventurer.name.toLowerCase().startsWith(this.findName.toLowerCase()));\n        return adventurers.sort((a, b) => a.name > b.name);\n      },\n      user() {\n        return this.$root.$data.user;\n      }\n    },\n    async created() {\n      this.getAdventurers();\n      try {\n        let response2 = await axios.get('/api/users');\n        this.$root.$data.user = response2.data.user;\n      } catch (error) {\n        this.$root.$data.user = null;\n      }\n    },\n    methods: {\n      fileChanged(event) {\n        this.file = event.target.files[0]\n      },\n      async upload() {\n        try {\n          let r = await axios.post('/api/adventurers', {\n            name: this.name,\n            description: this.description,\n            race: this.race,\n            strength: this.strength,\n            agility: this.agility,\n            durability: this.durability,\n            intelligence: this.intelligence,\n            cost: this.cost\n          });\n          this.addAdventurer = r.data;\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      async getAdventurers() {\n        try {\n          let response = await axios.get(\"/api/adventurers\");\n          this.adventurers = response.data;\n          return true;\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      selectAdventurer(adventurer) {\n        this.findName = \"\";\n        this.findAdventurer = adventurer;\n      },\n      async deleteAdventurer(adventurer) {\n        try {\n          await axios.delete(\"/api/adventurers/\" + adventurer.id);\n          this.findAdventurer = null;\n          this.getAdventurers();\n          return true;\n        } catch (error) {\n          console.log(error);\n        }\n        this.$root.$data.party.splice(this.$root.$data.party.indexOf(adventurer.id),1);\n      },\n      async editAdventurer(adventurer) {\n        try {\n          await axios.put(\"/api/adventurers/\" + adventurer.id, {\n            name: this.findAdventurer.name,\n            description: this.findAdventurer.description,\n            race: this.findAdventurer.race,\n            strength: this.findAdventurer.strength,\n            agility: this.findAdventurer.agility,\n            durability: this.findAdventurer.durability,\n            intelligence: this.findAdventurer.intelligence,\n            cost: this.findAdventurer.cost\n          });\n          this.findAdventurer = null;\n          this.getAdventurers();\n          return true;\n        } catch (error) {\n          console.log(error);\n        }\n      },\n    }\n  }\n</script>\n"]}]}